<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>{{ t.studentinfo.firstname|capitalize }} {{t.studentinfo.lastname|capitalize }} Official Transcript</title>
<link rel="stylesheet" href="css/style.css">
</head>
<body>
<h1 style="text-align: center;">City Vision University<br/>
3101 Troost Ave., Suite 200, Kansas City, MO 64109</h1>
<h1 style="text-align: center;">Official Transcript</h1>
<p>
<strong>Name:</strong> {{t.studentinfo.firstname }} {{ t.studentinfo.lastname }}
<!-- tod: add an address -->
</p>
<hr/>
<p>
<strong>Program:</strong> {{ t.studentinfo.major }}<br/>
<strong>Degree:</strong> {{t.studentinfo.program }}</p>
<!-- todo: add the other data on the student here -->
<!-- would need to add to query layer -->

<h2>TRANSFER CREDITS</h2>
{% if t.overall.transfer_credit > 0 %}
{% if t.transcripts is not empty %}
<table class="transcripts">
<tr><th>University Name</th><th>Credits</th></tr>
  {% for transcript in t.transcripts %}
    {% if transcript.transfer_credit > 0 %}
      <tr>
      <td>{{ transcript.name }}</td>
      <td>{{ transcript.transfer_credit }}</td>
      </tr>
    {% endif %}
  {% endfor %}
  <tr><td><strong>Totals:</strong></td>
  <td>{{ t.overall.transfer_credit }}</td>
  <td>{{ t.overall.transfer_gpa }}</td>
</table>
{% else %}
<table>
<tr><td><strong>Totals:</strong><td>
<td>{{ t.overall.transfer_credit }}</td>
<td>{{ t.overall.transfer_gpa }}</td>
</table>
{% endif %}
{% else %}
  <p><em>None</em></p>  
{% endif %}

{% if t.terms is not empty %}
<h2>Course number/Title</h2>
{% for term in t.terms %}
<h3>{{ term.name }}</h3>
{% if term.courses is not empty %}
<table class="courses">
<tr><th class="course-name">&nbsp;</th><th>Grade</th>
<th>Credit Hours</th>
<th>Exclude from Final GPA?</th>
</tr>
{% for course in term.courses %}
<tr>
<td class="course-name">{{ course.name }}</td>
<td>{{ course.grade }}</td>
<td>{{ course.credits_earned }}</td>
<td>
{% if course.exclude == TRUE and course.grade != 'W' %}
Excluded from GPA
{% endif %}
{% if course.is_repeat == TRUE %}
Repeated, Included in GPA
{% endif %}
</td>
</tr>
{% endfor %}
</table>
<br/><br/>
{% endif %}
{% endfor %}
<!-- todo: add logic for "not in current payment period" - define constant -->
{% endif %}

<h2>Totals:</h2>
<table class="total-data" style="width: 500px">
<tr><th style="width: 400px">&nbsp;</th><th>GPA</th><th>Credits</th></tr>
<tr>
<td style="width: 400px">Total</td>
<td>{{ t.overall.total_gpa|round(2) }}</td>
<td>{{ t.overall.total_credit_earned }}</td>
</tr>
</table>

<br/>
<p style="font-family: monospace;">__________________________________________</p>
<p>Dr. Josh Callahan, Academic Dean</p>
<p>Official Transcripts must bear the signature of the University Dean. This transcript is printed on security paper.</p>
</body>
</html>
